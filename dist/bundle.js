"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?n(Object(a),!0).forEach((function(n){e(t,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}exports.useWordPress=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/?rest_route=/wp/v2",o=t.useState(),c=a(o,2),i=c[0],u=c[1],s=t.useState(),l=a(s,2),f=l[0],d=l[1],g=t.useState([]),v=a(g,2),y=v[0],h=v[1],p=t.useState(!1),b=a(p,2),w=b[0],m=b[1],O=t.useState(),P=a(O,2),S=P[0],j=P[1],E=t.useState(0),I=a(E,2),_=I[0],D=I[1],A=t.useState(0),B=a(A,2),W=B[0],M=B[1];t.useEffect((function(){S&&!f&&U(S)}),[S]);var T=async function(t,a,o){m(!0);var c="".concat(n).concat(t);try{if(!(await fetch(c,{headers:r(r({},o),{},{"X-WP-Nonce":e}),method:"DELETE"})).ok)throw new Error;a&&a()}catch(t){u(t)}finally{m(!1)}},X=async function(t,a,o){m(!0);var c="".concat(n).concat(t);try{var i=await fetch(c,{headers:r(r({},o),{},{"X-WP-Nonce":e})});if(!i.ok)throw new Error;var s=await i.json();D(parseInt(i.headers.get("X-WP-Total"))),M(parseInt(i.headers.get("X-WP-TotalPages"))),a&&a(s)}catch(t){console.log(t),u(t)}finally{m(!1)}},k="&_embed",x=async function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"posts",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=z(e),a="/".concat(t).concat(r?"&".concat(r):"").concat(n?k:"");await X(a,(function(t){j(t)}))},L=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posts",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var a=z(n),o="/".concat(e,"/").concat(t).concat(a?"&".concat(a):"").concat(r?k:"");await X(o,(function(t){j(t)}))}},N=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"posts",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var o="&_embed",c=z(r(r({},n),{},{slug:t})),i="/".concat(e,"&").concat(c).concat(a?o:"");await X(i,(function(t){j(t)}))}},U=function(t){if(t&&t._embedded){var e=t._embedded;d(e),q(e)}},q=function(t){t&&t["wp:featuredmedia"]&&h(t["wp:featuredmedia"])},C=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];await L(t,"pages",e,n)},F=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];await N(t,"pages",e,n)},R=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];await L(t,"posts",e,n)},$=async function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];await N(t,"posts",e,n)},z=function(t){var e=new URLSearchParams;if(t)for(var n in t)Object.hasOwnProperty.call(t,n)&&"_embed"!==n&&e.append(n,t[n]);return e.toString()};return{data:S,deleteData:T,embedded:f,error:i,featuredMedia:y,fetchData:X,get:x,getById:L,getBySlug:N,getEmbedded:U,getFeaturedMedia:q,getPageById:C,getPageBySlug:F,getPostById:R,getPostBySlug:$,loading:w,total:_,totalPages:W}};
